<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AdVanta | ÙƒØ§ØªØ¨ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø°ÙƒÙŠ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Inter', system-ui, -apple-system, sans-serif;
        }

        body {
            background: #fcfaff;
            background-image: 
                radial-gradient(circle at 10% 20%, rgba(255, 107, 74, 0.03) 0%, transparent 30%),
                radial-gradient(circle at 90% 70%, rgba(0, 102, 255, 0.03) 0%, transparent 35%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            padding: 2rem 1rem;
        }

        .container {
            max-width: 1200px;
            width: 100%;
        }

        .logo-wrapper {
            display: flex;
            justify-content: center;
            margin-bottom: 1.5rem;
        }

        .logo {
            width: min(220px, 70%);
            height: auto;
        }

        .site-description {
            text-align: center;
            font-size: 1.2rem;
            color: #2d3142;
            margin-bottom: 2rem;
            background: rgba(255,255,255,0.5);
            padding: 0.8rem 1.5rem;
            border-radius: 60px;
            width: fit-content;
            margin-left: auto;
            margin-right: auto;
            border: 1px solid rgba(255,107,74,0.2);
        }

        .card {
            background: rgba(255,255,255,0.9);
            backdrop-filter: blur(12px);
            border-radius: 40px;
            padding: 2rem;
            border: 1px solid rgba(255,107,74,0.25);
            box-shadow: 0 25px 40px -15px rgba(0,0,0,0.05);
        }

        .section-title {
            font-size: 1.2rem;
            font-weight: 700;
            color: #2f3349;
            margin: 1.5rem 0 1rem 0;
        }

        .section-title:first-of-type {
            margin-top: 0;
        }

        .options-grid {
            display: flex;
            flex-wrap: wrap;
            gap: 0.8rem;
            margin-bottom: 1rem;
        }

        .option-chip {
            background: white;
            border: 1.5px solid #edf2f7;
            border-radius: 40px;
            padding: 0.6rem 1.2rem;
            font-size: 0.95rem;
            color: #1a1e2b;
            cursor: pointer;
            transition: 0.2s;
            user-select: none;
        }

        .option-chip.selected {
            background: #ff6b4a;
            color: white;
            border-color: #ff6b4a;
        }

        .option-chip[data-single="true"].selected {
            background: #ff6b4a;
            color: white;
            border-color: #ff6b4a;
        }

        textarea {
            width: 100%;
            padding: 1.2rem;
            background: white;
            border: 1.5px solid #edf2f7;
            border-radius: 24px;
            font-size: 1rem;
            margin: 1rem 0;
            resize: vertical;
            min-height: 120px;
        }

        .generate-btn {
            background: #ff6b4a;
            color: white;
            border: none;
            padding: 1rem 2rem;
            border-radius: 60px;
            font-weight: 700;
            font-size: 1.2rem;
            cursor: pointer;
            width: 100%;
            transition: 0.25s;
            box-shadow: 0 8px 20px rgba(255,107,74,0.25);
        }

        .generate-btn:hover {
            background: #ff541f;
            transform: translateY(-2px);
        }

        .result-container {
            margin-top: 2rem;
            background: linear-gradient(145deg, #fff9f7, #fffdfc);
            border: 1.5px solid rgba(255,107,74,0.25);
            border-radius: 32px;
            padding: 2rem;
            display: none;
        }

        .result-content {
            line-height: 1.8;
            color: #2d3142;
            white-space: pre-wrap;
            direction: rtl;
            text-align: right;
        }

        .result-actions {
            display: flex;
            gap: 1rem;
            margin-top: 1.5rem;
        }

        .action-btn {
            flex: 1;
            padding: 0.8rem;
            border-radius: 40px;
            font-weight: 600;
            border: none;
            cursor: pointer;
            transition: 0.25s;
        }

        .edit-btn {
            background: #e2e8f0;
            color: #1e1e2f;
        }

        .save-btn {
            background: #ff6b4a;
            color: white;
        }

        .modal {
            display: none;
            position: fixed;
            top: 0; left: 0; right: 0; bottom: 0;
            background: rgba(0,0,0,0.5);
            backdrop-filter: blur(4px);
            align-items: center;
            justify-content: center;
            z-index: 1000;
        }

        .modal-content {
            background: white;
            border-radius: 40px;
            padding: 2rem;
            max-width: 500px;
            width: 90%;
        }

        .edit-option {
            background: #f8faff;
            border: 1.5px solid #edf2f7;
            border-radius: 30px;
            padding: 1rem;
            margin: 1rem 0;
            cursor: pointer;
            transition: 0.2s;
        }

        .edit-option:hover {
            border-color: #ff6b4a;
            background: #fffaf8;
        }

        .extra-options {
            margin-top: 1rem;
            padding: 1rem;
            background: #f8faff;
            border-radius: 24px;
            display: none;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Ø´Ø¹Ø§Ø± -->
        <div class="logo-wrapper">
            <img src="logo.png.png" alt="AdVanta" class="logo" onerror="this.src='https://placehold.co/220x80/0066ff/ff6b4a/png?text=AdVanta'">
        </div>

        <!-- ÙˆØµÙ Ø§Ù„Ù…ÙˆÙ‚Ø¹ -->
        <div class="site-description">
            ğŸ“ Ù…ÙˆÙ‚Ø¹ Ø°ÙƒÙŠ Ù…Ø®ØªØµ ÙÙŠ ÙƒØªØ§Ø¨Ø© Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø¨Ø´ÙƒÙ„ Ø¯Ù‚ÙŠÙ‚ Ø®Ù„Ø§Ù„ Ø¯Ù‚Ø§Ø¦Ù‚
        </div>

        <!-- Ø§Ù„ÙƒØ§Ø±Ø¯ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ -->
        <div class="card" id="mainCard">
            <!-- Ø§Ù„Ù‡Ø¯Ù (Ø§Ø®ØªÙŠØ§Ø± ÙˆØ§Ø­Ø¯) -->
            <div class="section-title">ğŸ¯ Ø§Ù„Ù‡Ø¯Ù</div>
            <div class="options-grid" id="goalOptions" data-single="true">
                <div class="option-chip" data-value="brand" data-single="true">ÙˆØ¹ÙŠ Ø¨Ø¹Ù„Ø§Ù…Ø© ØªØ¬Ø§Ø±ÙŠØ©</div>
                <div class="option-chip" data-value="newProduct" data-single="true">ØªØ¹Ø±ÙŠÙ Ø¨Ù…Ù†ØªØ¬ Ø¬Ø¯ÙŠØ¯</div>
                <div class="option-chip" data-value="newService" data-single="true">ØªØ¹Ø±ÙŠÙ Ø®Ø¯Ù…Ø© Ø¬Ø¯ÙŠØ¯Ø©</div>
                <div class="option-chip" data-value="followers" data-single="true">Ø²ÙŠØ§Ø¯Ø© Ø§Ù„Ù…ØªØ§Ø¨Ø¹ÙŠÙ†</div>
                <div class="option-chip" data-value="reach" data-single="true">Ø§Ù„ÙˆØµÙˆÙ„ Ù„Ù…Ø²ÙŠØ¯ Ù…Ù† Ø§Ù„Ø£Ø´Ø®Ø§Øµ</div>
                <div class="option-chip" data-value="engagement" data-single="true">Ø²ÙŠØ§Ø¯Ø© Ø§Ù„ØªÙØ§Ø¹Ù„</div>
                <div class="option-chip" data-value="sales" data-single="true">Ø²ÙŠØ§Ø¯Ø© Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª</div>
                <div class="option-chip" data-value="influencer" data-single="true">ØµÙ†Ø§Ø¹Ø© Ø§Ù„Ù…Ø¤Ø«Ø±ÙŠÙ†</div>
                <div class="option-chip" data-value="personal" data-single="true">Ù‡Ø¯Ù Ø´Ø®ØµÙŠ</div>
            </div>

            <!-- Ø§Ù„Ø¬Ù…Ù‡ÙˆØ± (Ø§Ø®ØªÙŠØ§Ø± Ù…ØªØ¹Ø¯Ø¯) -->
            <div class="section-title">ğŸ‘¥ Ø§Ù„Ø¬Ù…Ù‡ÙˆØ± Ø§Ù„Ù…Ø³ØªÙ‡Ø¯Ù</div>
            <div class="options-grid" id="audienceOptions">
                <div class="option-chip" data-value="fathers">Ø¢Ø¨Ø§Ø¡</div>
                <div class="option-chip" data-value="children">Ø£Ø·ÙØ§Ù„</div>
                <div class="option-chip" data-value="youth">Ø´Ø¨Ø§Ø¨</div>
                <div class="option-chip" data-value="girls">Ø¨Ù†Ø§Øª</div>
                <div class="option-chip" data-value="men">Ø±Ø¬Ø§Ù„</div>
                <div class="option-chip" data-value="women">Ù†Ø³Ø§Ø¡</div>
                <div class="option-chip" data-value="traders">ØªØ¬Ø§Ø±</div>
                <div class="option-chip" data-value="athletes">Ø±ÙŠØ§Ø¶ÙŠÙˆÙ†</div>
                <div class="option-chip" data-value="business">Ø£ØµØ­Ø§Ø¨ Ø£Ø¹Ù…Ø§Ù„</div>
                <div class="option-chip" data-value="students">Ø·Ù„Ø§Ø¨</div>
                <div class="option-chip" data-value="employees">Ù…ÙˆØ¸ÙÙˆÙ†</div>
                <div class="option-chip" data-value="nutrition">Ù…Ù‡ØªÙ…ÙˆÙ† Ø¨Ø§Ù„ØªØºØ°ÙŠØ©</div>
                <div class="option-chip" data-value="skincare">Ø¹Ù†Ø§ÙŠØ© Ø¨Ø§Ù„Ø¨Ø´Ø±Ø©</div>
                <div class="option-chip" data-value="fitness">Ù„ÙŠØ§Ù‚Ø© Ø¨Ø¯Ù†ÙŠØ©</div>
                <div class="option-chip" data-value="pets">Ù…Ø±Ø¨Ùˆ Ø­ÙŠÙˆØ§Ù†Ø§Øª</div>
                <div class="option-chip" data-value="travelers">Ù…Ø³Ø§ÙØ±ÙˆÙ†</div>
                <div class="option-chip" data-value="tech">ØªÙ‚Ù†ÙŠÙˆÙ†</div>
                <div class="option-chip" data-value="fashion">Ù…Ø­Ø¨ÙˆÙ† Ù„Ù„Ø£Ø²ÙŠØ§Ø¡</div>
                <div class="option-chip" data-value="other">ØºÙŠØ± Ø°Ù„Ùƒ</div>
            </div>

            <!-- Ø§Ù„Ø¹Ù…Ø± (Ø§Ø®ØªÙŠØ§Ø± Ù…ØªØ¹Ø¯Ø¯) -->
            <div class="section-title">ğŸ“Š Ø§Ù„ÙØ¦Ø© Ø§Ù„Ø¹Ù…Ø±ÙŠØ©</div>
            <div class="options-grid" id="ageOptions">
                <div class="option-chip" data-value="0-12">0 â€“ 12</div>
                <div class="option-chip" data-value="13-17">13 â€“ 17</div>
                <div class="option-chip" data-value="18-24">18 â€“ 24</div>
                <div class="option-chip" data-value="25-34">25 â€“ 34</div>
                <div class="option-chip" data-value="35-44">35 â€“ 44</div>
                <div class="option-chip" data-value="45-60">45 â€“ 60</div>
                <div class="option-chip" data-value="60+">60+</div>
            </div>

            <!-- Ø§Ù„Ù…Ù†ØµØ© (Ø§Ø®ØªÙŠØ§Ø± ÙˆØ§Ø­Ø¯) -->
            <div class="section-title">ğŸ“± Ø§Ù„Ù…Ù†ØµØ©</div>
            <div class="options-grid" id="platformOptions" data-single="true">
                <div class="option-chip" data-value="facebook" data-single="true">ÙÙŠØ³Ø¨ÙˆÙƒ</div>
                <div class="option-chip" data-value="instagram" data-single="true">Ø¥Ù†Ø³ØªØºØ±Ø§Ù…</div>
                <div class="option-chip" data-value="tiktok" data-single="true">ØªÙŠÙƒ ØªÙˆÙƒ</div>
                <div class="option-chip" data-value="snapchat" data-single="true">Ø³Ù†Ø§Ø¨ Ø´Ø§Øª</div>
            </div>

            <!-- Ø´ÙƒÙ„ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ (Ø§Ø®ØªÙŠØ§Ø± ÙˆØ§Ø­Ø¯) -->
            <div class="section-title">ğŸ¬ Ø´ÙƒÙ„ Ø§Ù„Ù…Ø­ØªÙˆÙ‰</div>
            <div class="options-grid" id="formatOptions" data-single="true">
                <div class="option-chip" data-value="image" data-single="true">ØµÙˆØ±Ø©</div>
                <div class="option-chip" data-value="image+caption" data-single="true">ØµÙˆØ±Ø© + ÙƒØ§Ø¨Ø´Ù†</div>
                <div class="option-chip" data-value="text" data-single="true">Ù†Øµ ÙÙ‚Ø·</div>
                <div class="option-chip" data-value="reel" data-single="true">Ø±ÙŠÙ„</div>
                <div class="option-chip" data-value="reel+caption" data-single="true">Ø±ÙŠÙ„ + ÙƒØ§Ø¨Ø´Ù†</div>
                <div class="option-chip" data-value="video" data-single="true">ÙÙŠØ¯ÙŠÙˆ</div>
                <div class="option-chip" data-value="video+caption" data-single="true">ÙÙŠØ¯ÙŠÙˆ + ÙƒØ§Ø¨Ø´Ù†</div>
                <div class="option-chip" data-value="story" data-single="true">Ø³ØªÙˆØ±ÙŠ</div>
                <div class="option-chip" data-value="story+text" data-single="true">Ø³ØªÙˆØ±ÙŠ + Ù†Øµ</div>
                <div class="option-chip" data-value="idea" data-single="true">ÙÙƒØ±Ø© ÙÙ‚Ø·</div>
            </div>

            <!-- Ù†ÙˆØ¹ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ (Ø§Ø®ØªÙŠØ§Ø± ÙˆØ§Ø­Ø¯) -->
            <div class="section-title">ğŸ“Œ Ù†ÙˆØ¹ Ø§Ù„Ù…Ø­ØªÙˆÙ‰</div>
            <div class="options-grid" id="contentTypeOptions" data-single="true">
                <div class="option-chip" data-value="agc" data-single="true">Ù…Ø­ØªÙˆÙ‰ Ø§Ø­ØªØ±Ø§ÙÙŠ</div>
                <div class="option-chip" data-value="ugc" data-single="true">Ù…Ø­ØªÙˆÙ‰ Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†</div>
                <div class="option-chip" data-value="egc" data-single="true">Ù…Ø­ØªÙˆÙ‰ Ù…ÙˆØ¸ÙÙŠÙ†</div>
            </div>

            <!-- Ø®ÙŠØ§Ø±Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ© (ØªØ¸Ù‡Ø± ØªØ­Øª Ø´ÙƒÙ„ Ø§Ù„Ù…Ø­ØªÙˆÙ‰) -->
            <div id="extraOptionsContainer"></div>

            <!-- ÙˆØµÙ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… -->
            <textarea id="userDescription" placeholder="Ø§ÙƒØªØ¨ ÙÙƒØ±ØªÙƒ Ù‡Ù†Ø§... (Ù…Ø«Ù„Ø§Ù‹: Ù…Ù†Ø´ÙˆØ± Ø¹Ù† Ù…Ù†ØªØ¬ Ø¬Ø¯ÙŠØ¯ Ù„Ù„Ø¹Ù†Ø§ÙŠØ© Ø¨Ø§Ù„Ø¨Ø´Ø±Ø©)"></textarea>

            <!-- Ø²Ø± Ø§Ù„Ø¥Ù†Ø´Ø§Ø¡ -->
            <button class="generate-btn" id="generateBtn">â–¶ï¸ Ø§Ø¨Ø¯Ø£ Ø§Ù„ÙƒØªØ§Ø¨Ø©</button>

            <!-- Ù†ØªÙŠØ¬Ø© -->
            <div class="result-container" id="resultContainer">
                <div class="result-content" id="resultContent"></div>
                <div class="result-actions">
                    <button class="action-btn edit-btn" id="editBtn">âœï¸ ØªØ¹Ø¯ÙŠÙ„</button>
                    <button class="action-btn save-btn" id="saveBtn">ğŸ’¾ Ø­ÙØ¸</button>
                </div>
            </div>
        </div>

        <!-- Ù…ÙˆØ¯Ø§Ù„ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ -->
        <div class="modal" id="editModal">
            <div class="modal-content">
                <h3 style="margin-bottom: 1.5rem; color: #2d3142;">âœï¸ ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù…Ø­ØªÙˆÙ‰</h3>
                <div class="edit-option" id="manualEditOption">
                    <div style="font-weight: 700; margin-bottom: 0.3rem;">ğŸ“ ØªØ¹Ø¯ÙŠÙ„ ÙŠØ¯ÙˆÙŠ</div>
                    <div style="color: #6b7280; font-size: 0.9rem;">Ø¹Ø¯Ù„ Ø§Ù„Ù†Øµ Ø¨Ù†ÙØ³Ùƒ</div>
                </div>
                <div class="edit-option" id="aiEditOption">
                    <div style="font-weight: 700; margin-bottom: 0.3rem;">ğŸ¤– ØªØ¹Ø¯ÙŠÙ„ Ø°ÙƒÙŠ</div>
                    <div style="color: #6b7280; font-size: 0.9rem;">Ø§Ø·Ù„Ø¨ Ù…Ù† Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„</div>
                </div>
                <button style="margin-top: 1rem; padding: 0.8rem; width: 100%; background: #e2e8f0; border: none; border-radius: 40px; cursor: pointer;" id="closeModal">Ø¥Ù„ØºØ§Ø¡</button>
            </div>
        </div>
    </div>

    <script>
        // âœ… Ù…ÙØªØ§Ø­ Gemini - Ø§Ù‚Ø±Ø£ Ù…Ù† Environment Variable
        const GEMINI_API_KEY = '{{GEMINI_API_KEY}}';

        // ==================== Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø®ÙŠØ§Ø±Ø§Øª ====================
        document.querySelectorAll('.option-chip').forEach(chip => {
            chip.addEventListener('click', function(e) {
                e.stopPropagation();
                
                const parent = this.parentElement;
                const isSingle = parent.dataset.single === 'true' || this.dataset.single === 'true';
                
                if (isSingle) {
                    // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„ØªØ­Ø¯ÙŠØ¯ Ù…Ù† ÙƒÙ„ Ø§Ù„Ø®ÙŠØ§Ø±Ø§Øª ÙÙŠ Ù†ÙØ³ Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø©
                    parent.querySelectorAll('.option-chip').forEach(c => {
                        c.classList.remove('selected');
                    });
                    // ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ø®ÙŠØ§Ø± Ø§Ù„Ø­Ø§Ù„ÙŠ
                    this.classList.add('selected');
                } else {
                    // Ø§Ø®ØªÙŠØ§Ø± Ù…ØªØ¹Ø¯Ø¯ (Toggle)
                    this.classList.toggle('selected');
                }
            });
        });

        // ==================== Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ø®ÙŠØ§Ø±Ø§Øª Ø§Ù„Ø¥Ø¶Ø§ÙÙŠØ© Ø­Ø³Ø¨ Ø´ÙƒÙ„ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ ====================
        function updateExtraOptions(format) {
            const container = document.getElementById('extraOptionsContainer');
            container.innerHTML = ''; // ØªÙØ±ÙŠØº Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø³Ø§Ø¨Ù‚
            
            let html = '';
            
            // ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ø®ÙŠØ§Ø±Ø§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø© Ø­Ø³Ø¨ Ø´ÙƒÙ„ Ø§Ù„Ù…Ø­ØªÙˆÙ‰
            const hasCaption = format.includes('caption') || format === 'text' || format === 'idea';
            const hasDuration = format.includes('reel') || format.includes('video') || format === 'story';
            
            if (hasCaption) {
                html += `
                    <div class="section-title">ğŸ“ Ø¹Ø¯Ø¯ Ø£Ø³Ø·Ø± Ø§Ù„ÙƒØ§Ø¨Ø´Ù†</div>
                    <div class="options-grid" id="captionLines" data-single="true">
                        <div class="option-chip" data-value="1" data-single="true">1</div>
                        <div class="option-chip" data-value="2" data-single="true">2</div>
                        <div class="option-chip" data-value="3" data-single="true">3</div>
                        <div class="option-chip" data-value="4" data-single="true">4</div>
                        <div class="option-chip" data-value="5" data-single="true">5+</div>
                    </div>
                `;
            }
            
            if (hasDuration) {
                html += `
                    <div class="section-title">â±ï¸ Ø·ÙˆÙ„ Ø§Ù„Ø³ÙƒØ±ÙŠØ¨Øª (Ø«Ø§Ù†ÙŠØ©)</div>
                    <div class="options-grid" id="videoDuration" data-single="true">
                        <div class="option-chip" data-value="10" data-single="true">10</div>
                        <div class="option-chip" data-value="15" data-single="true">15</div>
                        <div class="option-chip" data-value="20" data-single="true">20</div>
                        <div class="option-chip" data-value="25" data-single="true">25</div>
                        <div class="option-chip" data-value="30" data-single="true">30</div>
                        <div class="option-chip" data-value="40" data-single="true">40</div>
                        <div class="option-chip" data-value="50" data-single="true">50</div>
                        <div class="option-chip" data-value="60" data-single="true">60</div>
                    </div>
                `;
            }
            
            if (html) {
                container.innerHTML = html;
                // ØªÙØ¹ÙŠÙ„ Ø§Ù„Ù†Ù‚Ø± Ø¹Ù„Ù‰ Ø§Ù„Ø®ÙŠØ§Ø±Ø§Øª Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©
                container.querySelectorAll('.option-chip').forEach(chip => {
                    chip.addEventListener('click', function(e) {
                        e.stopPropagation();
                        const parent = this.parentElement;
                        parent.querySelectorAll('.option-chip').forEach(c => {
                            c.classList.remove('selected');
                        });
                        this.classList.add('selected');
                    });
                });
            }
        }

        // Ù…Ø±Ø§Ù‚Ø¨Ø© ØªØºÙŠÙŠØ± Ø´ÙƒÙ„ Ø§Ù„Ù…Ø­ØªÙˆÙ‰
        document.querySelectorAll('#formatOptions .option-chip').forEach(chip => {
            chip.addEventListener('click', function() {
                // Ø¨Ø¹Ø¯ Ø§Ù„ØªØ­Ø¯ÙŠØ¯ØŒ Ù†Ø¬ÙŠØ¨ Ø§Ù„Ù‚ÙŠÙ…Ø©
                const selectedFormat = this.dataset.value;
                updateExtraOptions(selectedFormat);
            });
        });

        // ==================== Ø²Ø± Ø§Ù„Ø¥Ù†Ø´Ø§Ø¡ (Ù…Ø¹ Ø±Ø¨Ø· Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ) ====================
        document.getElementById('generateBtn').addEventListener('click', async function() {
            const desc = document.getElementById('userDescription').value.trim();
            if (!desc) {
                alert('âœï¸ Ø§ÙƒØªØ¨ ÙÙƒØ±ØªÙƒ Ø£ÙˆÙ„Ø§Ù‹');
                return;
            }

            // Ø¬Ù…Ø¹ Ø§Ù„Ø®ÙŠØ§Ø±Ø§Øª Ø§Ù„Ù…Ø®ØªØ§Ø±Ø©
            const goals = [];
            document.querySelectorAll('#goalOptions .option-chip.selected').forEach(c => goals.push(c.dataset.value));
            
            const audiences = [];
            document.querySelectorAll('#audienceOptions .option-chip.selected').forEach(c => audiences.push(c.dataset.value));
            
            const ages = [];
            document.querySelectorAll('#ageOptions .option-chip.selected').forEach(c => ages.push(c.dataset.value));
            
            const platforms = [];
            document.querySelectorAll('#platformOptions .option-chip.selected').forEach(c => platforms.push(c.dataset.value));
            
            const formats = [];
            document.querySelectorAll('#formatOptions .option-chip.selected').forEach(c => formats.push(c.dataset.value));
            
            const contentTypes = [];
            document.querySelectorAll('#contentTypeOptions .option-chip.selected').forEach(c => contentTypes.push(c.dataset.value));
            
            // Ø®ÙŠØ§Ø±Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ©
            let captionLines = '';
            let videoDuration = '';
            
            if (document.getElementById('captionLines')) {
                document.querySelectorAll('#captionLines .option-chip.selected').forEach(c => captionLines = c.dataset.value);
            }
            
            if (document.getElementById('videoDuration')) {
                document.querySelectorAll('#videoDuration .option-chip.selected').forEach(c => videoDuration = c.dataset.value);
            }

            const resultContainer = document.getElementById('resultContainer');
            const resultContent = document.getElementById('resultContent');
            
            resultContainer.style.display = 'block';
            resultContent.innerHTML = 'â³ Ø¬Ø§Ø±ÙŠ ÙƒØªØ§Ø¨Ø© Ø§Ù„Ù…Ø­ØªÙˆÙ‰...';

            try {
                // Ø¨Ù†Ø§Ø¡ Ø§Ù„Ù€ prompt Ù„Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ
                const prompt = `Ø£Ù†Øª ÙƒØ§ØªØ¨ Ù…Ø­ØªÙˆÙ‰ Ù…Ø­ØªØ±Ù Ù…ØªØ®ØµØµ ÙÙŠ Ø§Ù„ØªØ³ÙˆÙŠÙ‚ Ø§Ù„Ø±Ù‚Ù…ÙŠ.

Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…:
- Ø§Ù„Ù‡Ø¯Ù: ${goals.join('ØŒ ') || 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯'}
- Ø§Ù„Ø¬Ù…Ù‡ÙˆØ± Ø§Ù„Ù…Ø³ØªÙ‡Ø¯Ù: ${audiences.join('ØŒ ') || 'Ø¹Ø§Ù…'}
- Ø§Ù„ÙØ¦Ø© Ø§Ù„Ø¹Ù…Ø±ÙŠØ©: ${ages.join('ØŒ ') || 'ÙƒÙ„ Ø§Ù„Ø£Ø¹Ù…Ø§Ø±'}
- Ø§Ù„Ù…Ù†ØµØ©: ${platforms.join('ØŒ ') || 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯'}
- Ø´ÙƒÙ„ Ø§Ù„Ù…Ø­ØªÙˆÙ‰: ${formats.join('ØŒ ') || 'Ù†Øµ'}
- Ù†ÙˆØ¹ Ø§Ù„Ù…Ø­ØªÙˆÙ‰: ${contentTypes.join('ØŒ ') || 'Ø§Ø­ØªØ±Ø§ÙÙŠ'}
${captionLines ? '- Ø¹Ø¯Ø¯ Ø£Ø³Ø·Ø± Ø§Ù„ÙƒØ§Ø¨Ø´Ù†: ' + captionLines : ''}
${videoDuration ? '- Ø·ÙˆÙ„ Ø§Ù„Ø³ÙƒØ±ÙŠØ¨Øª: ' + videoDuration + ' Ø«Ø§Ù†ÙŠØ©' : ''}

Ø§Ù„ÙˆØµÙ: "${desc}"

Ø§Ù„Ù…Ø·Ù„ÙˆØ¨:
Ø§ÙƒØªØ¨ Ù…Ø­ØªÙˆÙ‰ ØªØ³ÙˆÙŠÙ‚ÙŠ Ø§Ø­ØªØ±Ø§ÙÙŠ Ù…ØªÙƒØ§Ù…Ù„ ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰:
1. HOOK (Ø¬Ù…Ù„Ø© Ø¬Ø°Ø¨ Ù‚ÙˆÙŠØ©)
2. VALUE (Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„ØªÙŠ Ø³ÙŠØ­ØµÙ„ Ø¹Ù„ÙŠÙ‡Ø§ Ø§Ù„Ø¹Ù…ÙŠÙ„)
3. Ø§Ù„Ù…Ø´Ø§Ù‡Ø¯ (Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ù…Ø­ØªÙˆÙ‰ ÙÙŠØ¯ÙŠÙˆØŒ Ù…Ø¹ ÙˆØµÙ Ø§Ù„Ù…Ø´Ù‡Ø¯ ÙˆØ§Ù„Ù†Øµ)
4. CTA (Ø¯Ø¹ÙˆØ© Ù„Ø§ØªØ®Ø§Ø° Ø¥Ø¬Ø±Ø§Ø¡)

Ø§ÙƒØªØ¨ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ ÙƒØ§Ù…Ù„Ø§Ù‹ ÙˆÙ…ÙØµÙ„Ø§Ù‹ØŒ Ù„Ø§ ØªØ®ØªØµØ±.`;

                const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent?key=${GEMINI_API_KEY}`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        contents: [{
                            parts: [{ text: prompt }]
                        }]
                    })
                });

                const data = await response.json();
                
                if (data.error) {
                    resultContent.innerHTML = `âŒ Ø®Ø·Ø£: ${data.error.message}`;
                    return;
                }

                let text = data.candidates[0].content.parts[0].text;
                text = text.replace(/\n/g, '<br>');
                text = text.replace(/(HOOK|VALUE|CTA|Ø§Ù„Ù…Ø´Ø§Ù‡Ø¯)/g, '<strong style="color: #ff6b4a; font-size: 1.1rem; display: block; margin-top: 1rem;">$1</strong>');
                
                resultContent.innerHTML = text;
                
            } catch (error) {
                resultContent.innerHTML = 'âŒ Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„. ØªØ£ÙƒØ¯ Ù…Ù† Ø§Ù„Ù…ÙØªØ§Ø­ ÙˆØ­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.';
                console.error(error);
            }
        });

        // ==================== Ø²Ø± Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ ====================
        document.getElementById('editBtn').addEventListener('click', function() {
            document.getElementById('editModal').style.display = 'flex';
        });

        // Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ù…ÙˆØ¯Ø§Ù„
        document.getElementById('closeModal').addEventListener('click', function() {
            document.getElementById('editModal').style.display = 'none';
        });

        // Ø®ÙŠØ§Ø±Ø§Øª Ø§Ù„ØªØ¹Ø¯ÙŠÙ„
        document.getElementById('manualEditOption').addEventListener('click', function() {
            alert('ğŸ“ ØªØ¹Ø¯ÙŠÙ„ ÙŠØ¯ÙˆÙŠ (Ø±Ø§Ø­ Ù†Ø¶ÙŠÙÙ‡ ÙÙŠ Ø§Ù„Ø¬Ø²Ø¡ Ø§Ù„Ù‚Ø§Ø¯Ù…)');
            document.getElementById('editModal').style.display = 'none';
        });

        document.getElementById('aiEditOption').addEventListener('click', function() {
            alert('ğŸ¤– ØªØ¹Ø¯ÙŠÙ„ Ø°ÙƒÙŠ (Ø±Ø§Ø­ Ù†Ø¶ÙŠÙÙ‡ ÙÙŠ Ø§Ù„Ø¬Ø²Ø¡ Ø§Ù„Ù‚Ø§Ø¯Ù…)');
            document.getElementById('editModal').style.display = 'none';
        });

        // Ø²Ø± Ø­ÙØ¸
        document.getElementById('saveBtn').addEventListener('click', function() {
            alert('ğŸ’¾ ØªÙ… Ø­ÙØ¸ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ (Ø±Ø§Ø­ Ù†Ø¶ÙŠÙ Ø§Ù„ØªØ­Ù…ÙŠÙ„ Ø§Ù„ÙØ¹Ù„ÙŠ Ù„Ø§Ø­Ù‚Ø§Ù‹)');
        });
    </script>
</body>
</html>